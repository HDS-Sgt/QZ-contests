# 20250714

## T1

直接贪心即可，有个 [数据删除] 定理。

## T2

我是螳臂。

 $i$ 为某个长度为 $m$ 的区间的最大值，则 $i \geq m_i$，按举这个 $i$。

在所得排列中，以 $i$ 为最大值的长度为 $m$ 的区间的个数为 $\binom{i-1}{m-1}m!(n-m+1)!$，

然后考虑去重。

注意到以 $i$ 为最大值的区间依然构成一段区间，所以只需要计算 $[l, l+m-1]$ 和 $[l+1, l+m]$ 都以 $i$ 为最大值的概率 $p$， $p$ 即为满足：$i$ 不位于下标 $l$ 处，$l+m-1 < n$，$l+m$ 处的值 $<i$ 情形的概率。

注意到这三者互相独立，可得 $p = \frac{m-1}{m} \times \frac{n-m}{n-m+1} \times \frac{i-m}{n-m} = \frac{(m-1)(i-m)}{m(n-m+1)}$。

答案即为
$$
\begin{align*}
\sum_{i=m}^{n} \binom{i-1}{m-1}m!(n-m+1)! \left(1 - \frac{(m-1)(i-m)}{m(n-m+1)} \right)
\end{align*}
$$
